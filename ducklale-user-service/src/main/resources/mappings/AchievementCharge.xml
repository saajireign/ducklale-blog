<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">



<mapper namespace="com.ducklale.user.domain.dao.AchievementChargeDao">

	<!-- 映射结果集 -->
	<resultMap id="achievementChargeResultMap" type="com.ducklale.user.domain.entity.AchievementChargePO">
		<id property="id" column="id" jdbcType="INTEGER"/>
    	<result property="achievementId" column="achievement_id" jdbcType="INTEGER"/>
    	<result property="userId" column="user_id" jdbcType="INTEGER"/>
    	<result property="chargeStatus" column="charge_status" jdbcType="TINYINT"/>
    	<result property="chargePoints" column="charge_points" jdbcType="INTEGER"/>
    	<result property="chargeDate" column="charge_date" jdbcType="TIMESTAMP"/>
	</resultMap>
	
	<!-- 用于select查询公用抽取的列 -->
	<sql id="achievementChargeColumnList">
	    <![CDATA[
			achievement_id,user_id,charge_status,charge_points,id,charge_date
	    ]]>
	</sql>
	
	<!-- 根据主键查询 -->
	<select id="selectById" resultMap="achievementChargeResultMap"  parameterType="java.lang.Integer">
		SELECT <include refid="achievementChargeColumnList" />
	    <![CDATA[
	    FROM t_achievement_charge 
        WHERE 
	        id = #{id,jdbcType=INTEGER}
	    ]]>
	</select>
	
	
	<!-- 根据ID删除 -->
    <delete id="deleteById"  parameterType="java.lang.String">
	    <![CDATA[
	        DELETE FROM t_achievement_charge 
	        WHERE
	        id = #{id,jdbcType=INTEGER}
	    ]]>
    </delete>
   
  	
  	<!-- 根据参数对象中有值的进行插入-->
	<insert id="insert" parameterType="com.ducklale.user.domain.entity.AchievementChargePO" >
		insert into t_achievement_charge
		<trim prefix="(" suffix=")" suffixOverrides="," >
	     	<if test="achievementId != null" >
		    achievement_id,
		  	</if>
	     	<if test="userId != null" >
		    user_id,
		  	</if>
	     	<if test="chargeStatus != null" >
		    charge_status,
		  	</if>
	     	<if test="chargePoints != null" >
		    charge_points,
		  	</if>
	     	<if test="id != null" >
		    id,
		  	</if>
	     	<if test="chargeDate != null" >
		    charge_date,
		  	</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides="," >
	     	<if test="achievementId != null" >
		    #{achievementId,jdbcType=INTEGER},
		  	</if>
	     	<if test="userId != null" >
		    #{userId,jdbcType=INTEGER},
		  	</if>
	     	<if test="chargeStatus != null" >
		    #{chargeStatus,jdbcType=TINYINT},
		  	</if>
	     	<if test="chargePoints != null" >
		    #{chargePoints,jdbcType=INTEGER},
		  	</if>
	     	<if test="id != null" >
		    #{id,jdbcType=INTEGER},
		  	</if>
	     	<if test="chargeDate != null" >
		    #{chargeDate,jdbcType=TIMESTAMP},
		  	</if>
		</trim>
	</insert>
	
	
	<!-- 根据ID进行更新 -->
	<update id="updateById"  parameterType="com.ducklale.user.domain.entity.AchievementChargePO">
		update t_achievement_charge
		<set>
			<if test="achievementId != null" >
			 achievement_id = #{achievementId,jdbcType=INTEGER},
			</if>
			<if test="userId != null" >
			 user_id = #{userId,jdbcType=INTEGER},
			</if>
			<if test="chargeStatus != null" >
			 charge_status = #{chargeStatus,jdbcType=TINYINT},
			</if>
			<if test="chargePoints != null" >
			 charge_points = #{chargePoints,jdbcType=INTEGER},
			</if>
			<if test="id != null" >
			 id = #{id,jdbcType=INTEGER},
			</if>
			<if test="chargeDate != null" >
			 charge_date = #{chargeDate,jdbcType=TIMESTAMP},
			</if>
		</set>
		where
			id = #{id,jdbcType=INTEGER}
	</update>
	<!-- 批量插入 -->
	<insert id="insertBatch"  parameterType="com.ducklale.user.domain.entity.AchievementChargePO">
		INSERT INTO t_achievement_charge 
		       	<trim prefix="(" suffix=")" suffixOverrides="," >
	  				achievement_id,user_id,charge_status,charge_points,charge_date,
       			</trim>
        VALUES
       	<foreach collection="list" item="rel" separator=",">
       	<trim prefix="(" suffix=")" suffixOverrides="," >
       		#{rel.achievementId,jdbcType=INTEGER},#{rel.userId,jdbcType=INTEGER},#{rel.chargeStatus,jdbcType=TINYINT},#{rel.chargePoints,jdbcType=INTEGER},#{rel.chargeDate,jdbcType=TIMESTAMP},
       	</trim>
       	</foreach>
       	
	</insert>
</mapper>

